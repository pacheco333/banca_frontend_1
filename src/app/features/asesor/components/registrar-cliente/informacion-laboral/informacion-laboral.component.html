<div class="p-6 max-w-7xl mx-auto bg-white shadow-sm rounded-lg border border-gray-200">
  <form [formGroup]="form" class="space-y-4">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

      <!-- Nombre de la Empresa -->
      <div class="md:col-span-2">
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Nombre de la Empresa <span class="text-red-500">*</span>
        </label>
        <input id="nombreEmpresa" type="text" formControlName="nombreEmpresa"
          (keydown)="onEnterKey($event, 'direccionEmpresa')" maxlength="200"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
          placeholder="Ej: Tech Solutions S.A.S">>
        <div class="text-red-500 text-xs mt-1"
          *ngIf="form.get('nombreEmpresa')?.invalid && form.get('nombreEmpresa')?.touched">
          <span *ngIf="form.get('nombreEmpresa')?.errors?.['required']">Campo obligatorio (mínimo 3 caracteres)</span>
          <span *ngIf="form.get('nombreEmpresa')?.errors?.['minlength']">Mínimo 3 caracteres</span>
          <span *ngIf="form.get('nombreEmpresa')?.errors?.['maxlength']">Máximo 200 caracteres</span>
        </div>
      </div>

      <!-- Dirección de la Empresa -->
      <div class="md:col-span-2">
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Dirección de la Empresa <span class="text-red-500">*</span>
        </label>
        <input id="direccionEmpresa" type="text" formControlName="direccionEmpresa"
          (keydown)="onEnterKey($event, 'paisEmpresa')" maxlength="200"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
          placeholder="Ej: Calle 100 #20-30">>
        <div class="text-red-500 text-xs mt-1"
          *ngIf="form.get('direccionEmpresa')?.invalid && form.get('direccionEmpresa')?.touched">
          <span *ngIf="form.get('direccionEmpresa')?.errors?.['required']">Campo obligatorio (mínimo 5
            caracteres)</span>
          <span *ngIf="form.get('direccionEmpresa')?.errors?.['minlength']">Mínimo 5 caracteres</span>
          <span *ngIf="form.get('direccionEmpresa')?.errors?.['maxlength']">Máximo 200 caracteres</span>
        </div>
      </div>

      <!-- Tipo de País de la Empresa -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
          ¿La empresa está en Colombia? <span class="text-red-500">*</span>
        </label>
        <select formControlName="tipoPaisEmpresa"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          <option value="Colombia">Sí, está en Colombia</option>
          <option value="Otro">No, está en otro país</option>
        </select>
      </div>

      <!-- País de la Empresa (solo si NO es Colombia) -->
      <div *ngIf="!esColombiaEmpresa()">
        <label class="block text-sm font-medium text-gray-700 mb-2">
          País de la Empresa <span class="text-red-500">*</span>
        </label>
        <input type="text" formControlName="paisEmpresa" (keypress)="soloLetras($event)" maxlength="100"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
          placeholder="Escribe el país">>
        <div class="text-red-500 text-xs mt-1"
          *ngIf="form.get('paisEmpresa')?.invalid && form.get('paisEmpresa')?.touched">
          Campo obligatorio
        </div>
      </div>

      <!-- Departamento de la Empresa -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Departamento/Estado de la Empresa <span class="text-red-500">*</span>
        </label>

        <!-- SELECT para Colombia -->
        <ng-select *ngIf="esColombiaEmpresa()" [items]="departamentosEmpresa" formControlName="departamentoEmpresa"
          placeholder="Selecciona un departamento" [searchable]="true" [clearable]="true" class="custom-ng-select">
        </ng-select>

        <!-- INPUT para otros países -->
        <input *ngIf="!esColombiaEmpresa()" type="text" formControlName="departamentoEmpresa"
          (keypress)="soloLetras($event)" maxlength="100"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
          placeholder="Escribe el departamento/estado">>

        <div class="text-red-500 text-xs mt-1"
          *ngIf="form.get('departamentoEmpresa')?.invalid && form.get('departamentoEmpresa')?.touched">
          Campo obligatorio
        </div>
      </div>

      <!-- Ciudad de la Empresa -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Ciudad de la Empresa <span class="text-red-500">*</span>
        </label>

        <!-- SELECT para Colombia -->
        <ng-select *ngIf="esColombiaEmpresa()" [items]="ciudadesEmpresa" formControlName="ciudadEmpresa"
          placeholder="Primero selecciona un departamento" [searchable]="true" [clearable]="true"
          class="custom-ng-select">
        </ng-select>

        <!-- INPUT para otros países -->
        <input *ngIf="!esColombiaEmpresa()" type="text" formControlName="ciudadEmpresa" (keypress)="soloLetras($event)"
          maxlength="100"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
          placeholder="Escribe la ciudad">>

        <div class="text-red-500 text-xs mt-1"
          *ngIf="form.get('ciudadEmpresa')?.invalid && form.get('ciudadEmpresa')?.touched">
          Campo obligatorio
        </div>
      </div>


      <!-- Teléfono -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Teléfono <span class="text-red-500">*</span>
        </label>
        <input id="telefonoEmpresa" type="text" formControlName="telefonoEmpresa" (keypress)="soloNumeros($event)"
          (keydown)="onEnterKey($event, 'ext')" maxlength="15"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
          placeholder="Ej: 6041234567">>
        <div class="text-red-500 text-xs mt-1"
          *ngIf="form.get('telefonoEmpresa')?.invalid && form.get('telefonoEmpresa')?.touched">
          <span *ngIf="form.get('telefonoEmpresa')?.errors?.['required']">Campo obligatorio (mínimo 7 dígitos)</span>
          <span *ngIf="form.get('telefonoEmpresa')?.errors?.['minlength']">Mínimo 7 dígitos</span>
          <span *ngIf="form.get('telefonoEmpresa')?.errors?.['pattern']">Solo números</span>
        </div>
      </div>

      <!-- Extensión -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Extensión
        </label>
        <input id="ext" type="text" formControlName="ext" (keypress)="soloNumeros($event)"
          (keydown)="onEnterKey($event, 'celularEmpresa')" maxlength="10"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
          placeholder="Opcional">>
        <div class="text-red-500 text-xs mt-1" *ngIf="form.get('ext')?.invalid && form.get('ext')?.touched">
          <span *ngIf="form.get('ext')?.errors?.['minlength']">Mínimo 1 dígito</span>
          <span *ngIf="form.get('ext')?.errors?.['pattern']">Solo números</span>
        </div>
      </div>

      <!-- Celular -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Celular <span class="text-red-500">*</span>
        </label>
        <input id="celularEmpresa" type="text" formControlName="celularEmpresa" (keypress)="soloNumeros($event)"
          (keydown)="onEnterKey($event, 'correoLaboral')" maxlength="15"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
          placeholder="Ej: 3001234567">>
        <div class="text-red-500 text-xs mt-1"
          *ngIf="form.get('celularEmpresa')?.invalid && form.get('celularEmpresa')?.touched">
          <span *ngIf="form.get('celularEmpresa')?.errors?.['required']">Campo obligatorio (10-15 dígitos)</span>
          <span *ngIf="form.get('celularEmpresa')?.errors?.['minlength']">Mínimo 10 dígitos</span>
          <span *ngIf="form.get('celularEmpresa')?.errors?.['pattern']">Solo números</span>
        </div>
      </div>

      <!-- Correo Laboral -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Correo Laboral <span class="text-red-500">*</span>
        </label>
        <input id="correoLaboral" type="email" formControlName="correoLaboral" maxlength="100"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
          placeholder="Ej: usuario@empresa.com">>
        <div class="text-red-500 text-xs mt-1"
          *ngIf="form.get('correoLaboral')?.invalid && form.get('correoLaboral')?.touched">
          <span *ngIf="form.get('correoLaboral')?.errors?.['required']">Campo obligatorio</span>
          <span
            *ngIf="form.get('correoLaboral')?.errors?.['email'] || form.get('correoLaboral')?.errors?.['pattern']">Debe
            ser un correo válido</span>
        </div>
      </div>

    </div>

    <!-- Botón Guardar -->
    <div class="flex justify-end mt-6">
      <button type="button" (click)="guardarSeccion()" [disabled]="!form.valid" [class]="form.valid 
          ? 'px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors cursor-pointer' 
          : 'px-6 py-2 bg-gray-300 text-gray-500 font-medium rounded-lg cursor-not-allowed'">
        Guardar y Continuar
      </button>
    </div>
  </form>
</div>